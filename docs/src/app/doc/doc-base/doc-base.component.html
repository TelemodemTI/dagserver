<div class="page-wrapper">
    <!-- ******Header****** -->
    <header id="header" class="header">
        <div class="container">
            <div class="branding">
                <h1 class="logo">
                    <a href="index.html">
                        <span aria-hidden="true" class="icon_documents_alt icon"></span>
                        <span class="text-highlight">Dagserver</span><span class="text-bold">Documentation</span>
                    </a>
                </h1>
                
            </div><!--//branding-->
            
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item active">Documentation</li>
            </ol>
            
            <div class="top-search-box">
                 <form class="form-inline search-form justify-content-center" action="" method="get">
            
                    <input type="text" placeholder="Search..." name="search" class="form-control search-input">
                    
                    <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i></button>
                    
                </form>
            </div>
            
        </div><!--//container-->
    </header><!--//header-->
    <div class="doc-wrapper">
        <div class="container">
            <div id="doc-header" class="doc-header text-center">
                <h1 class="doc-title"><i class="icon fa fa-book"></i> Documentation</h1>
                <div class="meta"><i class="far fa-clock"></i> Last updated: 09 Sept 2023</div>
            </div><!--//doc-header-->
            <div class="doc-body row">
                <div class="doc-content col-md-9 col-12 order-1">
                    <div class="content-inner">
                        <section id="download-section" class="doc-section" tabindex="-1">
                            <h2 class="section-title">General</h2>
                            <div class="section-block">
                                <p>dagserver allows the execution of a DAGS flow in a decoupled manner in a java environment. It enables a variety of use cases, from data integration between repositories, to continuous integration flow control.</p>
                            </div>
                        </section><!--//doc-section-->
                        <section id="installation-section" class="doc-section" tabindex="-1">
                            <h2 class="section-title">Components</h2>
                            <div id="step1"  class="section-block">
                                <p>The following diagram illustrates the components within dagserver</p>
                                <img src="assets/components.drawio.png"/>
                            </div>
                        </section><!--//doc-section-->
                        <section id="channels-section" class="doc-section" tabindex="-1">
                            <h2 class="section-title">Channels</h2>
                            <div class="section-block">
                                <p>
                                    Channels are the means that allow an event to be executed within the dagserver scheduler. This event will trigger the execution of a DAG in which the business logic to be implemented will be carried out.
                                </p>
                                <p>
                                    Currently there are three ways to trigger the execution of a DAG, the first is by activating an execution trigger. These triggers are configurable through cron/quartz statements that allow scheduled executions with complex logic.
                                </p>
                                <p>
                                    The second is by executing via the graphql endpoint. This path is the one used within the front end application and allows a controlled execution of a particular DAG
                                </p>
                                <p>
                                    The last is by configuring a github webhook, the latter allows triggering the execution of a DAG based on a push event made to a particular repository.
                                </p>
                                <img src="assets/images/fig001.PNG" class="center"/>
                                <p>For this last configuration there is a view in the front end, with which you can manage the Github events that the dagserver listens to.</p>
                                <img src="assets/images/fig002.PNG" class="center etl"/>
                                <p>In this modal you can configure the repository that the dagserver will be listening to to generate the events</p>
                                <img src="assets/images/fig003.PNG" class="center"/>
                            </div>
                        </section>
                        <section id="scheduler-section" class="doc-section" tabindex="-1">
                            <h2 class="section-title">Scheduler</h2>
                            <div class="section-block">
                                <p>The scheduler configuration is divided into the management of properties or parameters, and the information about the jobs that are executed within the scheduler.</p>
                                <ul>
                                    <li>
                                        <label>Scheduler View:</label>
                                        <p>The scheduler view is divided into the tab of jar files available to the scheduler (called jobs), and the designs of these jobs, which are available to the developer, but not compiled or available to the scheduler.</p>
                                        <img src="assets/images/fig017.PNG" class="center etl"/>
                                        <p>In the tab with the jobs available in the scheduler you will find both the external jobs, which are available in the respective path of the OS, and the internal jobs. The latter cannot be executed through this view, since they are internal to the scheduler. On the other hand, Jobs can be executed from the front, and the respective canvas of the DAG can also be displayed, as well as its dependencies. There is also the option to stop the job in the scheduler and finally view the execution logs.</p>
                                        <img src="assets/images/fig018.PNG" class="center etl"/>
                                        <div class="callout-block callout-success">
                                            <div class="icon-holder">
                                                <i class="fas fa-thumbs-up"></i>
                                            </div><!--//icon-holder-->
                                            <div class="content">
                                                <h4 class="callout-title">Useful Tip:</h4>
                                                <p>When the DAG is compiled it is impossible to add or change its design without compiling it again. But it is possible to change the value of the parameters configured in each node. This can be done directly from the compiled DAG detail</p>
                                            </div><!--//content-->
                                        </div>
                                        <img src="assets/images/fig019.PNG" class="center etl"/>
                                        <p>
                                        The dependencies viewer allows you to quickly identify the listener jobs that are listening to the execution of the DAG
                                        </p>
                                        <img src="assets/images/fig020.PNG" class="center etl"/>
                                        <p>The canvas allows the configuration of each node and see how the operators are related in the context of the DAG that is being designed.</p>
                                        <img src="assets/images/fig021.PNG" class="center etl"/>
                                        <img src="assets/images/fig022.PNG" class="center etl"/>
                                        <p>In the designs tab you can create the design of a new DAG, using the canvas. This view also allows this design to be compiled into an executable file, visible to the scheduler. It also allows you to export the design of this Job to a JSON file, with which this design can later be imported.</p>
                                        <img src="assets/images/fig023.PNG" class="center etl"/>
                                        <img src="assets/images/fig024.PNG" class="center etl"/>
                                        <div class="callout-block callout-success">
                                            <div class="icon-holder">
                                                <i class="fas fa-thumbs-up"></i>
                                            </div><!--//icon-holder-->
                                            <div class="content">
                                                <h4 class="callout-title">Useful Tip:</h4>
                                                <p>The visual positions of each operator on the canvas are not saved within the generated classes, but rather are recalculated, using the DAG structure.</p>
                                            </div><!--//content-->
                                        </div>
                                        <img src="assets/images/fig025.PNG" class="center etl"/>
                                        <p>When creating a DAG, in the right side panel, you can configure whether the DAG will be executed based on a schedule (CRON QUARTZ), or if it will be executed based on the behavior of another DAG (Job Listener). This allows complex flows to be implemented within the tool.</p>
                                        <img src="assets/images/fig026.PNG" class="center etl"/>
                                        <img src="assets/images/fig027.PNG" class="center etl"/>
                                        <p>Operators are the types of nodes that can be used within a DAG. Operators offer functionality as varied as running queries against a database, running SSH statements on a remote server, or running a JAR file with custom logic.</p>
                                        <img src="assets/images/fig028.PNG" class="center etl"/>
                                        <img src="assets/images/fig029.PNG" class="center etl"/>
                                        <p>In the DAG editor canvas, each node can be configured to run an operator. The configuration view allows you to configure the DAG with optional parameters, the script, and the particularities of each operator, and also test the operation of the DAG at design time.</p>
                                        <img src="assets/images/fig030.PNG" class="center etl"/>
                                        <p>The "scripts" tab will be available in the operators that allow you to enter some additional script, such as entering an ssh command or an SQL query.</p>
                                        <img src="assets/images/fig031.PNG" class="center etl"/>
                                        <p>In the "settings" tab it is possible to configure the name of the stage in the canvas, and modify the state of the input link of the DAG node</p>
                                        <img src="assets/images/fig032.PNG" class="center etl"/>
                                    </li>
                                    <li>
                                        <label>Properties View:</label>
                                        <p>The properties view allows you to see the property groups that have been created within the scheduler. These properties correspond to the Job parameters that are configured from the DAGS designer.</p>
                                        <img src="assets/images/fig032.PNG" class="center etl"/>
                                        <p>From this view you can see/edit/delete the parameters managed within the DAG server. It is also possible to export and import these parameters to a JSON file.</p>
                                    </li>
                                </ul>
                            </div>
                        </section>
                        <section id="admin-section" class="doc-section" tabindex="-1">
                            <h2 class="section-title">Administration</h2>
                            <div class="section-block">

                            </div>
                        </section>
                        <section id="basic-section" class="doc-section" tabindex="-1">
                            <h2 class="section-title">Basic Example</h2>
                            <div class="section-block">

                            </div>
                        </section>
                        <section id="etl-section" class="doc-section" tabindex="-1">
                            <h2 class="section-title">ETL Example</h2>
                            <div class="section-block">
                                <p>
                                    In the following example we carry out a typical ETL process that loads records. The design of the process will be the following:
                                </p>
                                <img src="assets/etl-example.drawio.png" class="center etl"/>
                                <br>
                                <p>To read the file, the File Operator will be used with the following configuration:</p>
                                <img src="assets/images/fig004.PNG" class="center etl"/>
                                <br>
                                <p>The next step will be to configure the JDBC Operator to connect to the corresponding database. For the purposes of the example, we will connect to mysql, for this we must have the jar with the corresponding driver, in a path accessible from the dagserver</p>
                                <p>The example configuration that will be used is the following</p>
                                <img src="assets/images/fig005.PNG" class="center etl"/>
                                <img src="assets/images/fig006.PNG" class="center etl"/>
                                <br>
                                <p>The third step of the flow will be the identification of new records. For this we will use a script that we will configure using the Groovy Operator</p>
                                <img src="assets/images/fig008.PNG" class="center etl"/>
                                <p>In the fourth step we will add the insert statement that will insert these new records into the database</p>
                                <img src="assets/images/fig009.PNG" class="center etl"/>
                                <img src="assets/images/fig016.PNG" class="center etl"/>
                                <p>The next step will be to run a new Groovy script, to obtain the records that were updated</p>
                                <img src="assets/images/fig010.PNG" class="center etl"/>
                                <p>Then the update query will be performed that updates the records in the database</p>
                                <img src="assets/images/fig011.PNG" class="center etl"/>
                                <img src="assets/images/fig012.PNG" class="center etl"/>
                                <p>Finally, using the Mail SMTP Operator, we can configure an email notification that is sent at the end of the execution of our flow</p>
                                <img src="assets/images/fig013.PNG" class="center etl"/>
                                <p>The drawing on the DAG canvas will finally look like this in the following image</p>
                                <img src="assets/images/fig007.PNG" class="center etl"/>
                                <p>The DAG of the example must be saved and compiled, and we can execute it directly from the front</p>
                                <img src="assets/images/fig014.PNG" class="center etl"/>
                                <p>The details of the logs will show the following, in which you can see the log with the detailed steps, as well as all the variables and data used during the execution of the DAG</p>
                                <img src="assets/images/fig015.PNG" class="center etl"/>

                            </div>
                        </section>
                    </div><!--//content-inner-->
                </div><!--//doc-content-->
                <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                    <div id="doc-nav" class="doc-nav">
                            <nav id="doc-menu" class="nav doc-menu flex-column sticky">
                                <li class="nav-item">
                                    <a class="nav-link scrollto pointer" (click)="goTo('download-section')">General</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link scrollto pointer"  (click)="goTo('installation-section')">Components
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link scrollto pointer" (click)="goTo('channels-section')">Channels
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link scrollto pointer" (click)="goTo('scheduler-section')">Scheduler
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link scrollto pointer" (click)="goTo('admin-section')">Admin
                                    </a>
                                </li>
                                
                                
                                
                                
                                <nav class="nav doc-sub-menu nav flex-column">
                                    <li class="nav-item">
                                        <a class="nav-link scrollto pointer" (click)="goTo('basic-section')">Basic Example</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link scrollto pointer">Windows CMD example</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link scrollto pointer" (click)="goTo('etl-section')">ETL Example</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link scrollto pointer">File movements (FTP - SFTP - Samba2) Example</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link scrollto pointer">Save Request to Database Example</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link scrollto pointer">Mail templating</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link scrollto pointer">Execute custom Jar file</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link scrollto pointer">Execute TestNG Test Suite</a>
                                    </li>
                                </nav><!--//nav-->
                                
                                
                            </nav><!--//doc-menu-->
                        
                    </div>
                </div><!--//doc-sidebar-->
            </div><!--//doc-body-->              
        </div><!--//container-->
    </div><!--//doc-wrapper-->
    
    
    
</div><!--//page-wrapper-->

<footer class="footer text-center">
    <div class="container">
        <small class="copyright">docs by <a href="https://www.telemodem.cl/" target="_blank">Telemodem</a></small>
    </div><!--//container-->
</footer><!--//footer-->